---
title: 006-布局相关
date: 2023-02-16 11:26
updated: 2023-02-16 18:37
cover: //cdn.wallleap.cn/img/post/1.jpg
image-auto-upload: true
author: Luwang
comments: true
aliases:
  - 006-布局相关
rating: 1
tags:
  - CSS
category: web
keywords:
  - 关键词1
  - 关键词2
  - 关键词3
description: 文章描述
source: null
url: //myblog.wallleap.cn/post/1
---

## 布局模式

基于盒子与其兄弟和祖辈盒子的交互方式来确定盒子的位置和大小的算法

- **普通流**（Noraml Flow）：所有元素都是普通流的一部分，除非用一些方式移除普通流。普通流包括块（Block）布局和行（Inline）布局
- 表格布局：仅用来设置表格
- 浮动布局：用来让元素左右排放
- **定位布局**：用来定位元素
- 多列布局：用来设置多列
- **弹性盒布局**：一维布局
- 网格布局：通过二维网格设置布局

## 盒模型

浏览器把每个元素当成矩形盒子来渲染，矩形盒子有这些特征：

- `Content`：这个区域用来显示内容，大小可通过设置 `width` 和 `height` 来改变
- `Padding`：包围在内容区域外部的空白区域，大小通过 `padding` 相关属性设置
- `Border`：边框和包裹内容和内边距，大小通过 `border` 相关属性设置
- `Margin`：最外面的区域，是盒子和其他元素之间的空白区域，大小通过 `margin` 相关属性设置

### 外边距

```css
el {
	/* 合起来写（上右下左） */
	margin: 10px 20px 5px 15px;
    /* 等同于下面 */
	margin-top: 10px;
	margin-right: 20px;
	margin-bottom: 5px;
	margin-left: 15px;
	/* 如果值相同还可以接着合写 */
	margin: 10px 15px 20px; /* 上 右左 下 */
	margin: 10px 20px; /* 上下 右左 */
	margin: 10px;
}
```

一个特殊的用法：

```css
el {
	margin: 0 auto;
}
```

对于设置了固定宽度的块级元素，左右 `auto` 会形成水平居中

`margin-left: auto;` 这样块级元素会靠右

具体应用：

```css
#container {
	max-width: 1200px;
	margin: 0 auto;
}
```

### 内边距

写法和 `margin` 类似，不同的是 `padding` 是能影响元素视觉大小的，会让内容和边框有一定的距离

- 当 `margin`/`padding` 取形式为`百分比`的值时，无论是 `left`/`right`，还是 `top/bottom`，都是以`父元素的 width` 为参照物的

### 边框

```css
el {
	border: 1px solid black;
	border-width: 1px;
	border-style: solid;
	border-color: black;
	border-top: 10px dashed #aaa;
	border-right: 1px dotted transparent;
	border-bottom: 3px double rgba(0,0,0,.1);
	border-left: 2px solid;
}
```

设置圆角

```css
el {
	border-radius: 8px;
	border-radius: 4px 8px 5px 10px;
	border-top-left-radius: 4px;
	border-top-right-radius: 8px;
	border-bottom-right-radius: 5px;
	border-bottom-left-radius: 10px;
}
```

可以利用边框和圆角制作各种形状效果（圆、三角形、梯形等）

### 宽高

- 固定单位：`px`、`em`、`rem`
- 百分比：相对于父容器的宽高
- 窗口：`vw`、`vh`

**最大宽度 `max-width`** 里面内容即使很大，但最大只能是这个值
**最小宽度`min-width`** 里面内容很少时，显示这个宽度，内容多时以内容为准

### IE 盒模型

- 标准（W3C）盒模型：设置的宽高就是 Content
- 怪异（IE）盒模型：设置的宽高指的是 Content + Padding + Border

使用 IE 盒模型：

```css
* {
	box-sizing: border-box; /* 标准的是content-box */
}
/* 下面这种只要改变了一个为 content-box，它所有子代都会改 */
html {
	box-sizing: border-box;
}
*, *::before, *::after {
	box-sizing: inherit;
}
```

### 块级盒子和行级盒子

- 块级（block-level）盒子
	- 让盒子会在水平方向上扩展并且占据父容器在该方向上的所有可用空间
	- 下一个盒子会换到新行
	- 设置的 `width`、`height`、`padding`、`margin`、`border` 都生效
	- 常见块级标签：`<h1>`、`<p>`、`<div>`、`<ul>`、`<ol>`、`<li>`、`<dl>`、`<dt>`、`<dd>`、`<header`、`<main>`、`<footer>`、`<aside>`、`<nav>`、`<section>`、`<table>`、`<pre>`
- 行级（inline-level）盒子
	- 多个行级盒子在一行顺序摆放，放不下会自动换行
	- 对于仅展示文本的标签，如 `a`、`span`、`em`、`strong`、`label`
		- `width` 和 `height` 属性设置无效
		- `padding` 和 `margin` 左右有效，上下 `margin` 无效（上下 `padding` 会撑开自己的边框和背景但不占空间）
	- 行级标签：`<a>`、`<span>`、`<strong>`、`<img>`、`<input>`、`<label>`、`<teaxtarea>`、`<select>`、`<button>`、`<code>`

可以进行转换：

```css
el {
	display: block;
	display: inline;
}
```

**折中**，既要仅占自身空间、多个在一行排列，又要设置宽高、边距能生效：

```css
el {
	display: inline-block;
}
```

> 补充：inline 元素之间有缝隙的问题

- Tab、LF（`/n` 换行）、CR（`/r` 回车）、Space 空格 都是空白字符
- 多个连续的空白字符会合并成一个空格，而空格也占据一个字符的空间
- 去除方法：
	- HTML 里 inline 元素间去除空格和换行
	- 用 `flex`/`grid` 布局
	- 容器设置 `font-size: 0;`

> 图片有缝隙

```css
div img {
	vertical-align: bottom;
}
```

`flex` 布局能够解决各种小问题，上面这个属性有的时候可以解决小图标对齐问题

## 外边距折叠

- 块级元素的上外边距和下外边距有时会合并为一个外边距，其大小取其中的最大者
- 浮动元素和绝对定位元素的外边距不会折叠

### 相邻折叠

相邻的两个块级元素之间的外边距会合并，取其中的最大值

```html
<section>1</section> <!-- 上左右 10 下 20 -->
<section>2</section> <!-- 上左右 20 下 30 -->
<section>3</section> <!-- 上下左右 30 -->
<style>
section {
	margin: 20px;
}
section:first-of-type {
	margin: 10px;
}
section:last-of-type {
	margin: 30px;
}
</style>
```

块与块的间隙推荐只用 `margin-top`

### 嵌套折叠

如果父元素和它嵌套的后代元素之间没有边框、内边距、行内内容，也没有创建块级格式化上下文，父子外边距就会折叠

```html
<header>
	<h1>标题</h1>
</header>
<main>
	<section>
		<p>段落</p>
	</section>
</main>
```

给容器加 `overflow: hidden;` 或 `overflow: auto;` 可以阻止折叠

### 空块折叠

如果一个块级元素中不包含任何内容，并且在它 `margin-top` 和 `margin-bottom` 之间没有边框、内边距、行内内容、`height`、`min-height`  将两者分开，则该元素的上下外边距会折叠

```html
<section>1</section>
<section></section>
<section>3</section>
<style>
/* 只有 10px */
section:nth-of-type(2) {
	margin: 10px;
}
</style>
```

## 流动布局

## 网格布局

## 浮动

## 定位

## 层叠上下文
